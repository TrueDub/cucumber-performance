<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Cucumber $summaryType Report</title>
        <link rel="stylesheet" href="css/main.css" type="text/css" media="screen" />
        <script type="text/javascript" src="js/jquery/jquery-1.8.2.min.js"></script>
        <script type="text/javascript" src="js/highcharts-3.0.2/highcharts.js"></script>
        <script type="text/javascript" src="js/performanceGraph.js"></script>
        <script>
            var titleText = '$summaryType Performance'
            var perfData = $perfData
            var averageData = $averageData
        </script>
    </head>
    <body>
        <div id="pageHeader">
            <div id="titleArea">Cucumber $summaryType Reports</div>
            <div id="linkArea">
                <div id="projectLink">
                    <a href="projectview.html">Back To Project View</a>
                </div>
                <div id="jenkinsLink">
                    <a href="${jenkins_base}job/$build_project">Back To Jenkins</a>
                </div>
            </div>
            <div class="clear"></div>
        </div>
        <p />
        <div class="content">
            <h1>$summaryType Report for $summary.name</h1>
            <h3>Summary</h3>
            <p />
            <div id="summaryArea">
                <div id="buildSummary">
                    <table class="summaryTable">
                        <tr>
                            <th class="coloured" colspan="2">Build Summary</th>
                        </tr>
                        <tr>
                            <td>Number of Passed Builds:</td>
                            <td>$summary.passedBuilds</td>
                        </tr>
                        <tr>
                            <td>Number of Failed Builds:</td>
                            <td>$summary.failedBuilds</td>
                        </tr>
                        <tr>
                            <td>Number of Total Builds:</td>
                            <td>$summary.totalBuilds</td>
                        </tr>
                    </table>
                </div>
                <div id="stepSummary">
                    <table class="summaryTable">
                        <tr>
                            <th class="coloured" colspan="2">Step Summary</th>
                        </tr>
                        <tr>
                            <td>Number of Passed Steps:</td>
                            <td>$summary.passedSteps</td>
                        </tr>
                        <tr>
                            <td>Number of Failed Steps:</td>
                            <td>$summary.failedSteps</td>
                        </tr>
                        <tr>
                            <td>Number of Skipped Steps:</td>
                            <td>$summary.skippedSteps</td>
                        </tr>
                    </table>
                </div>
                <div class="clear"></div>
                <p />
                <div class="emphasised">Only successful builds are included in
                    the details below.</div>
            </div>
            <p />
            <h3>$summaryType Performance</h3>
            <div id="graphArea">
                <noscript>
                    <p>This content requires JavaScript.</p>
                </noscript>
            </div>
            <p />
            <h3>$subType details</h3>
        </div>
        <div class="fullWidth">
            <table class="summaryTable">
                <tr>
                    <th class="coloured">$subType Name</th>
                    #if(!($subType.equals("Step")))
                        <th class="coloured">Steps</th>
                    #end
                    <th class="coloured">Shortest Duration</th>
                    <th class="coloured">Longest Duration</th>
                    <th class="coloured">Average Duration</th>
                </tr>
                #foreach ($subSummary in $subData)
                    <tr>
                        #if($subType.equals("Step"))
                            <td>
                                <span class="bolded">$subSummary.keyword</span>
                                $subSummary.name
                                #if($subSummary.hasRows())
                                    <div>
                                        <table class="summaryTable">
                                            #foreach($row in $subSummary.getRows())
                                                <tr>
                                                    #foreach($cell in $row)
                                                        <td class="cellText">$cell</td>
                                                    #end
                                                </tr>
                                            #end
                                        </table>
                                    </div>
                                #end</td>
                        #else
                            <td>
                                <a href="$subSummary.pageLink">$subSummary.name</a>
                            </td>
                            <td>$subSummary.numberOfSubItems</td>
                        #end                        
                        <td>$subSummary.formattedShortestDuration</td>
                        <td>$subSummary.formattedLongestDuration</td>
                        <td>$subSummary.formattedAverageDuration</td>
                    </tr>
                #end
            </table>
        </div>
        <p />
        #parse ("/templates/footer.vm")
    </body>
</html>
